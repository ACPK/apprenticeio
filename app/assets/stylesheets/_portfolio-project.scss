body#portfolio {
  text-align: left;

  header {
    @extend .primary;

    h2 {
      float: left;
      font-family: $header;
      font-size: 60px;
      font-weight: 100;
      line-height: 60px;
      margin: 0 flex-gutter() lh(3) 0;
      width: flex-grid(7);

      a {
        border-bottom: 1px solid $red;
      }
    }

    .nav {
      float: right;
      margin-top: 23px;
      width: flex-grid(5);

      a {
        color: #555;
        display: block;
        float: left;
        font-style: italic;
        margin-bottom: 0;
        text-align: right;
        width: 48%;

        &.right {
          float: right;
          margin-left: 2%;
        }

        &:hover {
          color: $red;
        }
      }
    }
  }

  > blockquote {
    @extend .secondary-wrapper;
    padding-bottom: lh(4);
    z-index: -1;

    &.summary {
      > div:before {
        content: none;
      }

      p {
        font-style: normal;
      }
    }

    > div {
      @extend .secondary;
      overflow: visible;
      position: relative;

      &:before {
        color: #c0c0c0;
        content: '\201c';
        font-size: 72px;
        font-weight: 700;
        left: - lh(1.66);
        line-height: 1em;
        position: absolute;
        top: - lh(.5);
        visibility: visible;
      }
    }

    p {
      font-family: $body;
      font-size: lh(1.5);
      font-style: italic;
      font-weight: 400;
      line-height: lh(2);
    }

    cite {
      display: block;
      margin-right: flex-gutter();
      position: absolute;

      p {
        font-size: 1rem;
        font-style: normal;
        line-height: lh();

        &.author {
          color: #555;
          font-weight: 800;
          margin-bottom: 0;
        }

        &.title {
          margin-top: 0;
        }
      }
    }
  }

  .case {
    display: inline-block;
    float: left;
    margin: 0 flex-gutter()*2 0 0;
    width: flex-grid(4) - flex-gutter();

    &:before {
      content: '';
      display: block;
      height: lh(5);
    }

    &:after {
      content: '';
      display: block;
      height: lh(2);
    }

    &.stickit {
      top: 0;
      position: fixed;
    }

    &.stickit-tall {
      bottom: 0;
      position: fixed;
    }

    &.stickit-end {
      bottom: 0;
      position: absolute;
      width: flex-grid(4) - flex-gutter();
    }

    ul {
      margin-left: 1.5em;
    }

    .jump {
      display: none;
      padding: lh() 0;
    }

    section {
      width: 100%;
    }
  }

  .screenshots {
    margin-top: - lh(3);
    overflow: hidden;
    position: relative;

    #screenshots {
      float: right;
      width: flex-grid(8);
    }

    img.screenshot {
      border: 1px solid white;
      @include box-shadow(0px 0px 0px 1px #ddd);
      float: left;
      margin-bottom: lh(3); 
      width: 100%;
    }

    img.triptych {
      border: 0;
      @include box-shadow(none);
    }

    a.iphone {
      float: left;
      margin: 0 flex-gutter() flex-gutter() 0;
      width: flex-grid(6);

      &:nth-child(2n) {
        margin-right: 0;
      }

      img {
        margin-bottom: 0;
        width: 100%;
      }
    }
  }

  #get-started {
    clear: both;

    a {
      margin-top: lh();
    }
  }

  @include media($medium) {
    .case {
      display: block;
      position: static !important;
      width: flex-grid(4) - flex-gutter() !important;
    }
  }

  @include media($small) {
    header {
      h2 {
        font-size: 24px;
        font-weight: 400;
        line-height: lh(1.4);
        margin: 0 0 lh(1.33) 0;
        text-align: center;
        width: 100%;
      }

      .nav {
        margin: 0 0 lh(1.33) 0;
        width: 100%;

        a {
          margin: 0;
          width: 48%;

          &.left {
            text-align: left;
          }

          &.right {
            float: right;
            text-align: right;
          }
        }
      }
    }

    > blockquote {
      padding-top: lh();
      padding-bottom: lh();

      &.summary > div {
        padding-top: 0;
      }

      > div {
        padding-top: lh();

        &:before {
          left: 0;

        }
      }

      p {
        font-size: 100%;
        line-height: lh();
        margin-bottom: 0;
      }

      cite {
        margin-top: 24px;
        position: static;
      }
    }

    .case {
      display: block;
      float: none;
      margin: 0 0 lh(1.5) 0;
      padding: 0;
      position: static !important;
      width: 100% !important; // override stickit styles

      &:before, &:after {
        content: none;
        height: 0;
      }

      .jump {
        display: block;
      }
    }

    .screenshots {
      margin-top: 0;

      #screenshots {
        width: 100%;
      }

      img.screenshot {
        float: none;
        margin-bottom: lh();
        width: 100%;
      }

      a.iphone {
        display: block;
        float: none;
        margin-bottom: lh();
        margin-right: 0;
        width: 100%;
      }
    }

    #get-started {
      border-bottom: 1px solid #ddd;
      margin-bottom: 0;
      padding-bottom: lh(1.5);
    }
  }
}
